{# Custom layout template - Integrates language switch functionality #}
{% extends "sphinx_book_theme/layout.html" %}

{% block extrahead %}
  {{ super() }}
  <script type="text/javascript">
    // Function to determine the current page language
    function getCurrentLanguage() {
      const path = window.location.pathname;
      if (path.includes("/ja/")) {
        return "ja";
      }
      return "en";
    }

    document.addEventListener("DOMContentLoaded", function () {
      // Update the dropdown text based on the current language
      const currentLang = getCurrentLanguage();
      const langButton = document.getElementById("languageSelector");
      if (langButton) {
        if (currentLang === "ja") {
          langButton.innerHTML = '<i class="fa fa-globe"></i> 日本語';
        } else {
          langButton.innerHTML = '<i class="fa fa-globe"></i> English';
        }
      }
    });
  </script>
{% endblock %}

{% block navbar_center %}
  {{ super() }}
{% endblock %}

{% block navbar_right %}
